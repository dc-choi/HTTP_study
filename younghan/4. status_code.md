### HTTP 상태코드
클라이언트가 보낸 요청의 처리 상태를 응답에서 알려주는 기능

### 만약에 모르는 상태코드가 나타나면?
클라이언트가 인식할 수 없는 상태코드를 서버가 반환하면 클라이언트는 상위 상태코드로 해석해서 처리한다.

미래에 새로운 상태 코드가 추가되어도 클라이언트를 변경하지 않아도 됨

```
299 ??? => 2XX (Successful)
451 ??? => 4XX (Client Error)
599 ??? => 5XX (Server Error)
```

### 1xx (Informational)
요청이 수신되어 처리중 (거의 사용하지 않으므로 생략)

### 2XX (Successful)
요청 정상 처리

200 OK: 요청 성공

201 Created: 요청 성공해서 새로운 리소스가 생성됨

202 Accepted: 요청이 접수되었으나 처리가 완료되지 않았음(배치 처리 같은 곳에서 사용)

204 No Content: 서버가 요청을 성공적으로 수행했지만, 응답 페이로드 본문에 보낼 데이터가 없음(웹 문서 편집기에서 save 기능)

### 3XX (Redirection)
요청을 완료하려면 추가 행동이 필요

### 리다이렉션이란?
웹 브라우저는 3xx 응답의 결과에 Location 헤더가 있으면, Location 위치로 자동 이동
이 Location 헤더를 지정해주는 것이 리다이렉션이다.

### 리다이렉션 종류
1. 영구 리다이렉션
	
	특정 리소스의 URI가 영구적으로 이동
	
	원래의 URL을 사용X, 검색 엔진 등에서도 변경 인지

	```
	/members => /users
	/event => /new-event
	```

	#### 301 Moved Permanently
	- 리다이렉트시 무슨 메서드로 요청을 보내든 GET으로 변하고, 본문이 제거될 수 있음(May)

	#### 308 Permanent Redirect
	- 301과 기능은 같지만 리다이렉트시 요청 메서드와 본문 유지

2. 일시 리다이렉션

	리소스의 URI가 일시적으로 변경

	따라서 검색 엔진 등에서 URL을 변경하면 안됨

	#### 302 Found
	- 리다이렉트시 요청 메서드가 GET으로 변하고, 본문이 제거될 수 있음(May)

	#### 307 Temporart Redirect
	- 302와 기능은 같지만 리다이렉트시 요청 메서드와 본문 유지(요청 메서드를 변경하면 안됨. Must Not)

	#### 303 See Other
	- 302와 기능은 같지만 리다이렉트시 요청 메서드가 반드시 GET으로 변경

	#### 주문 완료 후 주문 내역 화면으로 이동하는 예시
	- POST로 주문 후에 웹 브라우저를 새로고침하면 다시 요청되고 중복 주문이 될 수 있다.
	- POST로 주문 후에 새로 고침으로 인한 중복 주문 방지를 해결하기 위해서 PRG(Post/Redirect/Get)방식을 사용하게 됨.
	- POST로 주문 후에 주문 결과 화면을 GET 메서드로 리다이렉트
	- 새로고침해도 중복 주문 대신에 결과 화면만 GET으로 다시 요청

	#### 302, 303, 307중 어떤 것을 사용해야 하나?
	- 302: GET으로 변할 수 있음
	- 303: 메서드가 변하면 안됨
	- 307: 메서드가 GET으로 무조건 변경

	- 처음 302 스펙의 의도는 HTTP 메서드를 유지하는 것
	- 그런데 웹 브라우저들이 대부분 GET으로 바꾸어버림(일부는 다르게 동작)
	- 그래서 모호한 302를 대신하는 명확한 303, 307이 등장함(301, 308도 같음)

	- 303, 307을 권장하지만 현실적으로 이미 많은 애플리케이션 라이브러리들이 302를 기본값으로 사용함
	- 자동 리다이렉션시에 GET으로 변해도 되면 그냥 302를 사용해도 큰 문제 없음

3. 특수 리다이렉션

	캐시가 만료된 경우 서버에 다시 요청을 보낼 때 사용함. 캐시를 사용해도 되면 결과 대신 캐시를 사용

	#### 304 Not Modified
	- 캐시를 목적으로 사용함
	- 클라이언트에게 리소스가 수정되지 않았음을 알려준다. 따라서 클라이언트는 로컬PC에 저장된 캐시를 재사용한다. (캐시로 리다이렉트)
	- 304 응답은 응답에 메시지 바디를 포함하면 안된다. (로컬 캐시를 사용해야 하므로)
	- 조건분 GET, HEAD 요청시 사용한다.